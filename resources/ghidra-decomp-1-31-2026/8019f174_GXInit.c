// Function: GXInit
// Entry: 8019f174
// Size: 2192 bytes

undefined * GXInit(undefined4 param_1,undefined4 param_2)

{
  uint uVar1;
  uint uVar2;
  byte bVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  uint *puVar12;
  uint *puVar13;
  uint *puVar14;
  int iVar15;
  byte bVar16;
  int iVar17;
  
  OSRegisterVersion(DAT_8032eb88);
  iVar17 = DAT_80333828;
  *(undefined *)(DAT_80333828 + 0x4f0) = 0;
  *(undefined *)(iVar17 + 0x4f1) = 1;
  *(undefined *)(iVar17 + 0x4f2) = 1;
  *(undefined4 *)(iVar17 + 0x4dc) = 0;
  *(undefined4 *)(iVar17 + 0x4e0) = 0;
  GXSetMisc(1,0);
  DAT_8032f2ec = &DAT_cc000000;
  DAT_8032f2e8 = &DAT_cc003000;
  DAT_8032f2f0 = &DAT_cc001000;
  DAT_8032f2f4 = &DAT_cc004000;
  __GXFifoInit();
  GXInitFifoBase(&DAT_80327c78,param_1,param_2);
  GXSetCPUFifo(&DAT_80327c78);
  GXSetGPFifo(&DAT_80327c78);
  if (DAT_8032f30c == 0) {
    OSRegisterResetFunction(&PTR___GXShutdown_8021c4b0);
    DAT_8032f30c = 1;
  }
  __GXPEInit();
  uVar4 = PPCMfhid2();
  PPCMtwpar(0xc008000);
  PPCMthid2(uVar4 | 0x40000000);
  iVar17 = DAT_80333828;
  iVar6 = 0;
  *(undefined4 *)(DAT_80333828 + 0x204) = 0;
  uVar4 = 0;
  *(uint *)(iVar17 + 0x204) = *(uint *)(iVar17 + 0x204) & 0xffffff;
  iVar7 = 0xc0;
  iVar8 = 0xc1;
  *(undefined4 *)(iVar17 + 0x124) = 0xff;
  *(uint *)(iVar17 + 0x124) = *(uint *)(iVar17 + 0x124) & 0xffffff | 0xf000000;
  *(undefined4 *)(iVar17 + 0x7c) = 0;
  *(uint *)(iVar17 + 0x7c) = *(uint *)(iVar17 + 0x7c) & 0xffffff | 0x22000000;
  iVar17 = 8;
  do {
    iVar5 = DAT_80333828;
    uVar1 = uVar4 >> 1;
    *(undefined4 *)(DAT_80333828 + iVar6 + 0x130) = 0;
    iVar15 = uVar1 * 4 + 0x100;
    *(undefined4 *)(iVar5 + iVar6 + 0x170) = 0;
    *(undefined4 *)(iVar5 + iVar15) = 0;
    *(undefined4 *)(iVar5 + iVar6 + 0x49c) = 0xff;
    puVar12 = (uint *)(iVar5 + iVar6 + 0x130);
    puVar13 = (uint *)(iVar5 + iVar6 + 0x170);
    *puVar12 = *puVar12 & 0xffffff | iVar7 << 0x18;
    *puVar13 = *puVar13 & 0xffffff | iVar8 << 0x18;
    puVar12 = (uint *)(iVar5 + uVar1 * 4 + 0x1b0);
    uVar2 = uVar4 + 1 >> 1;
    *puVar12 = *puVar12 & 0xffffff | (uVar1 + 0xf6) * 0x1000000;
    puVar12 = (uint *)(iVar5 + iVar15);
    *puVar12 = *puVar12 & 0xffffff | (uVar1 + 0x28) * 0x1000000;
    iVar15 = uVar2 * 4 + 0x100;
    *(undefined4 *)(iVar5 + iVar6 + 0x134) = 0;
    *(undefined4 *)(iVar5 + iVar6 + 0x174) = 0;
    *(undefined4 *)(iVar5 + iVar15) = 0;
    *(undefined4 *)(iVar5 + iVar6 + 0x4a0) = 0xff;
    puVar13 = (uint *)(iVar5 + iVar6 + 0x134);
    puVar14 = (uint *)(iVar5 + iVar6 + 0x174);
    puVar12 = (uint *)(iVar5 + uVar2 * 4 + 0x1b0);
    *puVar13 = *puVar13 & 0xffffff | (iVar7 + 2) * 0x1000000;
    puVar13 = (uint *)(iVar5 + iVar15);
    iVar6 = iVar6 + 8;
    *puVar14 = *puVar14 & 0xffffff | (iVar8 + 2) * 0x1000000;
    iVar7 = iVar7 + 4;
    iVar8 = iVar8 + 4;
    uVar4 = uVar4 + 2;
    *puVar12 = *puVar12 & 0xffffff | (uVar2 + 0xf6) * 0x1000000;
    *puVar13 = *puVar13 & 0xffffff | (uVar2 + 0x28) * 0x1000000;
    iVar17 = iVar17 + -1;
  } while (iVar17 != 0);
  *(undefined4 *)(iVar5 + 0x120) = 0;
  iVar17 = 0;
  iVar6 = 0x30;
  iVar7 = 0x31;
  *(uint *)(iVar5 + 0x120) = *(uint *)(iVar5 + 0x120) & 0xffffff | 0x27000000;
  iVar8 = 2;
  do {
    iVar5 = DAT_80333828;
    *(undefined4 *)(DAT_80333828 + iVar17 + 0xb8) = 0;
    *(undefined4 *)(iVar5 + iVar17 + 0xd8) = 0;
    puVar12 = (uint *)(iVar5 + iVar17 + 0xb8);
    puVar13 = (uint *)(iVar5 + iVar17 + 0xd8);
    *puVar12 = *puVar12 & 0xffffff | iVar6 << 0x18;
    puVar12 = (uint *)(iVar5 + iVar17 + 0xbc);
    *puVar13 = *puVar13 & 0xffffff | iVar7 << 0x18;
    *(undefined4 *)(iVar5 + iVar17 + 0xbc) = 0;
    puVar13 = (uint *)(iVar5 + iVar17 + 0xdc);
    *(undefined4 *)(iVar5 + iVar17 + 0xdc) = 0;
    *puVar12 = *puVar12 & 0xffffff | (iVar6 + 2) * 0x1000000;
    puVar12 = (uint *)(iVar5 + iVar17 + 0xc0);
    iVar10 = iVar6 + 6;
    *puVar13 = *puVar13 & 0xffffff | (iVar7 + 2) * 0x1000000;
    puVar13 = (uint *)(iVar5 + iVar17 + 0xe0);
    *(undefined4 *)(iVar5 + iVar17 + 0xc0) = 0;
    iVar9 = iVar17 + 0xc4;
    iVar11 = iVar7 + 6;
    *(undefined4 *)(iVar5 + iVar17 + 0xe0) = 0;
    iVar15 = iVar17 + 0xe4;
    iVar17 = iVar17 + 0x10;
    *puVar12 = *puVar12 & 0xffffff | (iVar6 + 4) * 0x1000000;
    puVar12 = (uint *)(iVar5 + iVar9);
    iVar6 = iVar6 + 8;
    *puVar13 = *puVar13 & 0xffffff | (iVar7 + 4) * 0x1000000;
    puVar13 = (uint *)(iVar5 + iVar15);
    *(undefined4 *)(iVar5 + iVar9) = 0;
    iVar7 = iVar7 + 8;
    *(undefined4 *)(iVar5 + iVar15) = 0;
    *puVar12 = *puVar12 & 0xffffff | iVar10 * 0x1000000;
    *puVar13 = *puVar13 & 0xffffff | iVar11 * 0x1000000;
    iVar8 = iVar8 + -1;
  } while (iVar8 != 0);
  *(uint *)(iVar5 + 0xf8) = *(uint *)(iVar5 + 0xf8) & 0xffffff | 0x20000000;
  *(uint *)(iVar5 + 0xfc) = *(uint *)(iVar5 + 0xfc) & 0xffffff | 0x21000000;
  bVar16 = 0;
  *(uint *)(iVar5 + 0x1d0) = *(uint *)(iVar5 + 0x1d0) & 0xffffff | 0x41000000;
  *(uint *)(iVar5 + 0x1d4) = *(uint *)(iVar5 + 0x1d4) & 0xffffff | 0x42000000;
  *(uint *)(iVar5 + 0x1d8) = *(uint *)(iVar5 + 0x1d8) & 0xffffff | 0x40000000;
  *(uint *)(iVar5 + 0x1dc) = *(uint *)(iVar5 + 0x1dc) & 0xffffff | 0x43000000;
  *(uint *)(iVar5 + 0x1fc) = *(uint *)(iVar5 + 0x1fc) & 0xfffffe7f;
  *(undefined4 *)(iVar5 + 0x4f4) = 0;
  *(undefined *)(iVar5 + 0x4f3) = 0;
  uVar4 = DAT_800000f8 / 500;
  __GXFlushTextureState();
  DAT_cc008000._0_1_ = 0x61;
  DAT_cc008000 = uVar4 >> 0xb | 0x69000400;
  __GXFlushTextureState();
  DAT_cc008000._0_1_ = 0x61;
  DAT_cc008000 = uVar4 / 0x1080 | 0x46000200;
  iVar17 = 0;
  iVar6 = 2;
  do {
    iVar7 = DAT_80333828;
    puVar12 = (uint *)(DAT_80333828 + iVar17 + 0x1c);
    *puVar12 = *puVar12 & 0xbfffffff | 0x40000000;
    puVar13 = (uint *)(iVar7 + iVar17 + 0x3c);
    puVar12 = (uint *)(iVar7 + iVar17 + 0x20);
    *puVar13 = *puVar13 & 0x7fffffff | 0x80000000;
    puVar13 = (uint *)(iVar7 + iVar17 + 0x40);
    DAT_cc008000._0_1_ = 8;
    DAT_cc008000._0_1_ = bVar16 | 0x80;
    DAT_cc008000 = *(undefined4 *)(iVar7 + iVar17 + 0x3c);
    *puVar12 = *puVar12 & 0xbfffffff | 0x40000000;
    puVar12 = (uint *)(iVar7 + iVar17 + 0x24);
    *puVar13 = *puVar13 & 0x7fffffff | 0x80000000;
    puVar13 = (uint *)(iVar7 + iVar17 + 0x44);
    DAT_cc008000._0_1_ = 8;
    DAT_cc008000._0_1_ = bVar16 + 1 | 0x80;
    bVar3 = bVar16 + 3;
    iVar8 = iVar17 + 0x44;
    DAT_cc008000 = *(undefined4 *)(iVar7 + iVar17 + 0x40);
    *puVar12 = *puVar12 & 0xbfffffff | 0x40000000;
    puVar12 = (uint *)(iVar7 + iVar17 + 0x28);
    *puVar13 = *puVar13 & 0x7fffffff | 0x80000000;
    puVar13 = (uint *)(iVar7 + iVar17 + 0x48);
    DAT_cc008000._0_1_ = 8;
    DAT_cc008000._0_1_ = bVar16 + 2 | 0x80;
    bVar16 = bVar16 + 4;
    iVar5 = iVar17 + 0x48;
    iVar17 = iVar17 + 0x10;
    DAT_cc008000 = *(undefined4 *)(iVar7 + iVar8);
    *puVar12 = *puVar12 & 0xbfffffff | 0x40000000;
    *puVar13 = *puVar13 & 0x7fffffff | 0x80000000;
    DAT_cc008000._0_1_ = 8;
    DAT_cc008000._0_1_ = bVar3 | 0x80;
    DAT_cc008000 = *(undefined4 *)(iVar7 + iVar5);
    iVar6 = iVar6 + -1;
  } while (iVar6 != 0);
  DAT_cc008000._0_1_ = 0x10;
  uVar4 = 0;
  DAT_cc008000 = 0x1000;
  iVar17 = 0;
  DAT_cc008000 = 0x3f;
  DAT_cc008000._0_1_ = 0x10;
  DAT_cc008000 = 0x1012;
  iVar7 = 0x80000;
  DAT_cc008000 = 1;
  iVar6 = 0;
  DAT_cc008000._0_1_ = 0x61;
  DAT_cc008000 = 0x5800000f;
  do {
    GXInitTexCacheRegion(DAT_80333828 + iVar6 + 0x208,0,iVar17,0,iVar7,0);
    iVar7 = iVar7 + 0x8000;
    iVar17 = iVar17 + 0x8000;
    iVar6 = iVar6 + 0x10;
    uVar4 = uVar4 + 1;
  } while (uVar4 < 8);
  uVar4 = 0;
  iVar6 = 9;
  iVar7 = 8;
  iVar17 = 0;
  do {
    GXInitTexCacheRegion(DAT_80333828 + iVar17 + 0x288,0,iVar7 << 0xf,0,iVar6 << 0xf,0);
    iVar6 = iVar6 + 2;
    iVar7 = iVar7 + 2;
    iVar17 = iVar17 + 0x10;
    uVar4 = uVar4 + 1;
  } while (uVar4 < 4);
  uVar4 = 0;
  iVar6 = 0xc0000;
  iVar17 = 0;
  do {
    GXInitTlutRegion(DAT_80333828 + iVar17 + 0x2d0,iVar6,0x10);
    iVar6 = iVar6 + 0x2000;
    iVar17 = iVar17 + 0x10;
    uVar4 = uVar4 + 1;
  } while (uVar4 < 0x10);
  uVar4 = 0;
  iVar17 = 0xe0000;
  do {
    GXInitTlutRegion(DAT_80333828 + (uVar4 + 0x10) * 0x10 + 0x2d0,iVar17,0x40);
    iVar17 = iVar17 + 0x8000;
    uVar4 = uVar4 + 1;
  } while (uVar4 < 4);
  *(undefined2 *)(DAT_8032f2ec + 6) = 0;
  iVar17 = DAT_80333828;
  *(uint *)(DAT_80333828 + 0x4ec) = *(uint *)(DAT_80333828 + 0x4ec) & 0xffffff0f;
  DAT_cc008000._0_1_ = 8;
  DAT_cc008000._0_1_ = 0x20;
  DAT_cc008000 = *(undefined4 *)(iVar17 + 0x4ec);
  DAT_cc008000._0_1_ = 0x10;
  DAT_cc008000 = 0x1006;
  DAT_cc008000 = 0;
  DAT_cc008000._0_1_ = 0x61;
  DAT_cc008000 = 0x23000000;
  DAT_cc008000._0_1_ = 0x61;
  DAT_cc008000 = 0x24000000;
  DAT_cc008000._0_1_ = 0x61;
  DAT_cc008000 = 0x67000000;
  __GXSetTmemConfig(0);
  __GXInitGX();
  return &DAT_80327c78;
}

